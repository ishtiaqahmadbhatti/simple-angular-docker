<div class="particles" id="particles"></div>

<div class="game-container">
    <div class="game-header">
        <div class="logo">
            <div class="logo-icon">üêç</div>
            <h1>RAINBOW SNAKE Ishtiaq</h1>
        </div>
        <div class="stats">
            <div class="stat-box">
                <div class="stat-label">SCORE</div>
                <div class="stat-value">{{ score }}</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">HIGH SCORE</div>
                <div class="stat-value">{{ highScore }}</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">SPEED</div>
                <div class="stat-value">{{ speed }}</div>
            </div>
        </div>
    </div>
    
    <div class="game-board" 
         (touchstart)="handleTouchStart($event)" 
         (touchend)="handleTouchEnd($event)">
        <canvas #gameCanvas width="600" height="450"></canvas>
        <div class="game-over" *ngIf="gameOverVisible">
            <h2>GAME OVER!</h2>
            <p>Your score: <span>{{ score }}</span></p>
            <button (click)="restartGame()">PLAY AGAIN</button>
        </div>
    </div>
    
    <div class="controls">
        <button (click)="startGame()">{{ gameRunning ? 'RESTART' : 'START GAME' }}</button>
        <button (click)="pauseGame()">{{ paused ? 'RESUME' : 'PAUSE' }}</button>
        <button (click)="changeSpeed(1)">SPEED UP</button>
        <button (click)="changeSpeed(-1)">SLOW DOWN</button>
    </div>

    <!-- Mobile Controls -->
    <div class="mobile-controls" *ngIf="isMobile">
        <div class="control-row">
            <button class="control-btn up" 
                    (touchstart)="changeDirection('up')" 
                    (touchend)="preventDefault($event)">‚Üë</button>
        </div>
        <div class="control-row">
            <button class="control-btn left" 
                    (touchstart)="changeDirection('left')" 
                    (touchend)="preventDefault($event)">‚Üê</button>
            <button class="control-btn right" 
                    (touchstart)="changeDirection('right')" 
                    (touchend)="preventDefault($event)">‚Üí</button>
        </div>
        <div class="control-row">
            <button class="control-btn down" 
                    (touchstart)="changeDirection('down')" 
                    (touchend)="preventDefault($event)">‚Üì</button>
        </div>
    </div>
    
    <div class="instructions">
        <h2>HOW TO PLAY</h2>
        <div class="instructions-content">
            <div class="instruction-group">
                <h3>üéÆ Controls</h3>
                <ul>
                    <li><span class="key">‚Üë</span> <span class="key">‚Üì</span> <span class="key">‚Üê</span> <span class="key">‚Üí</span> or Swipe to move</li>
                    <li><span class="key">SPACE</span> Pause</li>
                </ul>
            </div>
            <div class="instruction-group">
                <h3>üåü Game Rules</h3>
                <ul>
                    <li>Eat colorful food to grow</li>
                    <li>Don't hit the walls</li>
                    <li>Don't bite yourself</li>
                    <li>Longer snake = higher score</li>
                </ul>
            </div>
        </div>
    </div>
</div>
